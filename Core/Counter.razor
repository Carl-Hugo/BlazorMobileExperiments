@inherits MyComponent
@using Logic.Features.Counter

<Frame CornerRadius="10" BackgroundColor="Color.LightBlue">
    <StackLayout Orientation="StackOrientation.Horizontal" HorizontalOptions="LayoutOptions.Center">
        <Button Text="+" OnClick="@(async () => await SendAsync(new Increment.Command(CounterState)))" />
        <Button Text="-" OnClick="@(async () => await SendAsync(new Decrement.Command(CounterState)))" />

        <Label Text="@("The button was clicked " + CounterState.Count + " times")"
               FontAttributes="FontAttributes.Bold"
               VerticalTextAlignment="TextAlignment.Center" />
    </StackLayout>
</Frame>

@code
{
    CounterState CounterState => GetState<CounterState>();

    protected override void OnInitialized()
    {
        base.OnInitialized();
        Subscribe<CounterState>();
    }
}
